(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{516:function(t,e,r){var content=r(614);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(7).default)("0a53c735",content,!0,{sourceMap:!1})},613:function(t,e,r){"use strict";var n=r(516);r.n(n).a},614:function(t,e,r){(t.exports=r(6)(!1)).push([t.i,".error-box[data-v-6f53190a]{color:#a30000;margin-top:-12px}",""])},632:function(t,e,r){"use strict";r.r(e);r(338),r(34);var n=r(332),o={data:function(){return{searching:!1,loading:!1,date:(new Date).toISOString().substr(0,10),date2:(new Date).toISOString().substr(0,10),startDate:"",endDate:"",dateMenu:!1,dateMenu2:!1,offices:["ANGD","ATDJ","APPU"],fiscalYear:["2015","2016","2017","2018","2019"],lga:[],headers:[{text:"ANSSID",value:"anssid",sortable:!1},{text:"Name",value:"name",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Phone Number",value:"phone",sortable:!1},{text:"State",value:"state",sortable:!1},{text:"LGA",value:"lga",sortable:!1}],taxpayers:[],paramsModel:{},searchModel:{params:{tax_payer_type:"individual",email:null,anssid:null,phone:null}},pages:{first:"",last:"",previousPage:"",nextPage:""}}},computed:{computedstartDate:function(){return this.formatDate(this.date)}},created:function(){this.getTaxpayers()},watch:{date:function(t){this.startDate=this.formatDate(this.date)},date2:function(t){this.endDate=this.formatDate(this.date2)}},methods:{formatDate:function(t){if(!t)return null;var e=t.split("-"),r=Object(n.a)(e,3),o=r[0],l=r[1],c=r[2];return"".concat(l,"/").concat(c,"/").concat(o)},searchTaxpayers:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.searching=!0,this.searchModel.params)this.searchModel.params.hasOwnProperty(e)&&null!=this.searchModel.params[e]&&(this.paramsModel[e]=this.searchModel.params[e]);this.$axios.$get("/TaxPayers/search",{params:this.paramsModel}).then(function(e){t.taxpayers=e.data,t.searching=!1,t.pages.previousPage=e.links.prev,t.pages.nextPage=e.links.next,t.pages.first=e.links.first,t.pages.last=e.links.last},function(e){t.errors=e.response.data.error,t.searching=!1})},getTaxpayers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0;var r="/TaxPayers/individual";null!=e&&(r=e),this.$axios.$get(r,{params:this.paramsModel}).then(function(e){t.taxpayers=e.data,t.loading=!1,t.pages.previousPage=e.links.prev,t.pages.nextPage=e.links.next,t.pages.first=e.links.first,t.pages.last=e.links.last},function(e){t.errors=e.response.data.error,t.loading=!1})},parseDate:function(t){if(!t)return null;var e=t.split("/"),r=Object(n.a)(e,3),o=r[0],l=r[1],c=r[2];return"".concat(c,"-").concat(o.padStart(2,"0"),"-").concat(l.padStart(2,"0"))}}},l=(r(613),r(30)),c=r(47),d=r.n(c),v=r(130),m=r(635),h=r(123),f=r(133),x=r(340),_=r(124),y=r(120),w=r(132),P=r(666),k=r(546),component=Object(l.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-sheet",{staticClass:"px-4 py-5 my-shadow-2",staticStyle:{opacity:"0.9"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("div",{staticClass:"caption font-weight-bold mb-1"},[t._v("Email")]),t._v(" "),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!1,regex:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,8})+$/},expression:"{ required: false, regex: /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,8})+$/ }"}],attrs:{name:"email",type:"email",outline:""},model:{value:t.searchModel.params.email,callback:function(e){t.$set(t.searchModel.params,"email",e)},expression:"searchModel.params.email"}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("Email")])]),t._v(" "),r("div",{staticClass:"error-box"},[t._v(t._s(t.errors.first("email")))])],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("div",{staticClass:"caption font-weight-bold mb-1"},[t._v("ANSSID")]),t._v(" "),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!1,regex:/^\d{10}$/},expression:"{ required: false, regex: /^\\d{10}$/ }"}],attrs:{name:"anssid",outline:""},model:{value:t.searchModel.params.anssid,callback:function(e){t.$set(t.searchModel.params,"anssid",e)},expression:"searchModel.params.anssid"}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("ANSSID")])]),t._v(" "),r("div",{staticClass:"error-box"},[t._v(t._s(t.errors.first("anssid")))])],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("div",{staticClass:"caption font-weight-bold mb-1"},[t._v("Phone Number")]),t._v(" "),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!1,regex:/^([0-9]{11})$/},expression:"{ required: false, regex: /^([0-9]{11})$/ }"}],attrs:{name:"phone number",type:"tel",outline:""},model:{value:t.searchModel.params.phone,callback:function(e){t.$set(t.searchModel.params,"phone",e)},expression:"searchModel.params.phone"}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("Phone Number")])]),t._v(" "),r("div",{staticClass:"error-box"},[t._v(t._s(t.errors.first("phone number")))])],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mx-auto":""}},[r("v-btn",{staticClass:"secondary caption mt-4",attrs:{small:"",flat:"",block:"",round:"",loading:t.searching,disabled:t.searching},on:{click:t.searchTaxpayers}},[t._v("Search")])],1)],1),t._v(" "),r("section",{staticClass:"mt-5"},[r("v-data-table",{attrs:{"hide-actions":"",headers:t.headers,items:t.taxpayers},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.anssid))]),t._v(" "),r("td",[t._v(t._s(e.item.name))]),t._v(" "),r("td",[t._v(t._s(e.item.email))]),t._v(" "),r("td",[t._v(t._s(e.item.phone))]),t._v(" "),r("td",[t._v(t._s(e.item.state))]),t._v(" "),r("td",[t._v(t._s(e.item.lga))])]}}])}),t._v(" "),r("v-flex",{attrs:{xs12:"",sm7:"",md7:"","mt-5":"","mx-auto":"","text-xs-center":""}},[r("v-item-group",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"v-btn-group"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"secondary ",attrs:{flat:""},on:{click:function(e){return t.getTaxpayers(t.pages.first)}}},n),[r("v-icon",{attrs:{right:""}},[t._v("fast_rewind")])],1)]}}])},[t._v(" "),r("span",[t._v("Firstpage")])]),t._v(" "),r("v-btn",{staticClass:"secondary",attrs:{flat:"",disabled:null==t.pages.previousPage},on:{click:function(e){return t.getTaxpayers(t.pages.previousPage)}}},[r("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-left-bold")]),t._v(" Previous Page\n          ")],1),t._v(" "),r("v-btn",{staticClass:"secondary",attrs:{flat:"",disabled:null==t.pages.nextPage},on:{click:function(e){return t.getTaxpayers(t.pages.nextPage)}}},[t._v("Next Page "),r("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-right-bold")])],1),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"secondary ",attrs:{flat:""},on:{click:function(e){return t.getTaxpayers(t.pages.last)}}},n),[r("v-icon",{attrs:{right:""}},[t._v("fast_forward")])],1)]}}])},[t._v(" "),r("span",[t._v("Lastpage")])])],1),t._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{indeterminate:"",color:"blue"}})],1)],1)],1)],1)},[],!1,null,"6f53190a",null),M=component.exports;d()(component,{VBtn:v.a,VDataTable:m.a,VFlex:h.a,VIcon:f.a,VItemGroup:x.b,VLayout:_.a,VProgressCircular:y.a,VSheet:w.a,VTextField:P.a,VTooltip:k.a});var S={props:["offices"],data:function(){return{searching:!1,loading:!1,date:(new Date).toISOString().substr(0,10),date2:(new Date).toISOString().substr(0,10),startDate:"",endDate:"",dateMenu:!1,dateMenu2:!1,headers:[{text:"ANSSID",value:"anssid",sortable:!1},{text:"Name",value:"name",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Phone Number",value:"phone",sortable:!1},{text:"State",value:"state",sortable:!1},{text:"LGA",value:"lga",sortable:!1}],taxpayers:[],paramsModel:{},searchModel:{params:{tax_payer_type:"corporate",email:null,anssid:null,phone:null}},pages:{first:"",last:"",previousPage:"",nextPage:""}}},computed:{computedstartDate:function(){return this.formatDate(this.date)}},created:function(){this.getTaxpayers()},watch:{date:function(t){this.startDate=this.formatDate(this.date)},date2:function(t){this.endDate=this.formatDate(this.date2)}},methods:{formatDate:function(t){if(!t)return null;var e=t.split("-"),r=Object(n.a)(e,3),o=r[0],l=r[1],c=r[2];return"".concat(l,"/").concat(c,"/").concat(o)},searchTaxpayers:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.searching=!0,this.searchModel.params)this.searchModel.params.hasOwnProperty(e)&&null!=this.searchModel.params[e]&&(this.paramsModel[e]=this.searchModel.params[e]);this.$axios.$get("/TaxPayers/search",{params:this.paramsModel}).then(function(e){t.taxpayers=e.data,t.searching=!1,t.pages.previousPage=e.links.prev,t.pages.nextPage=e.links.next,t.pages.first=e.links.first,t.pages.last=e.links.last},function(e){t.errors=e.response.data.error,t.searching=!1})},getTaxpayers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0;var r="/TaxPayers/corporate";null!=e&&(r=e),this.$axios.$get(r,{params:this.paramsModel}).then(function(e){t.taxpayers=e.data,t.loading=!1,t.pages.previousPage=e.links.prev,t.pages.nextPage=e.links.next,t.pages.first=e.links.first,t.pages.last=e.links.last},function(e){t.errors=e.response.data.error,t.loading=!1})},parseDate:function(t){if(!t)return null;var e=t.split("/"),r=Object(n.a)(e,3),o=r[0],l=r[1],c=r[2];return"".concat(c,"-").concat(o.padStart(2,"0"),"-").concat(l.padStart(2,"0"))}}},D=Object(l.a)(S,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("v-sheet",{staticClass:"px-4 py-5 my-shadow-2",staticStyle:{opacity:"0.9"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("div",{staticClass:"caption font-weight-bold mb-1"},[t._v("Email")]),t._v(" "),r("v-text-field",{attrs:{type:"email",outline:""},model:{value:t.searchModel.params.email,callback:function(e){t.$set(t.searchModel.params,"email",e)},expression:"searchModel.params.email"}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("Email")])])],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("div",{staticClass:"caption font-weight-bold mb-1"},[t._v("ANSSID")]),t._v(" "),r("v-text-field",{attrs:{outline:""},model:{value:t.searchModel.params.anssid,callback:function(e){t.$set(t.searchModel.params,"anssid",e)},expression:"searchModel.params.anssid"}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("ANSSID")])])],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("div",{staticClass:"caption font-weight-bold mb-1"},[t._v("Phone Number")]),t._v(" "),r("v-text-field",{attrs:{type:"tel",outline:""},model:{value:t.searchModel.params.phone,callback:function(e){t.$set(t.searchModel.params,"phone",e)},expression:"searchModel.params.phone"}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("Phone Number")])])],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mx-auto":""}},[r("v-btn",{staticClass:"secondary caption mt-4",attrs:{small:"",flat:"",block:"",round:"",loading:t.searching,disabled:t.searching},on:{click:t.searchTaxpayers}},[t._v("Search")])],1)],1),t._v(" "),r("section",{staticClass:"mt-5"},[r("v-data-table",{attrs:{"hide-actions":"",headers:t.headers,items:t.taxpayers},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.anssid))]),t._v(" "),r("td",[t._v(t._s(e.item.name))]),t._v(" "),r("td",[t._v(t._s(e.item.email))]),t._v(" "),r("td",[t._v(t._s(e.item.phone))]),t._v(" "),r("td",[t._v(t._s(e.item.state))]),t._v(" "),r("td",[t._v(t._s(e.item.lga))])]}}])}),t._v(" "),r("v-flex",{attrs:{xs12:"",sm7:"",md7:"","mt-5":"","mx-auto":"","text-xs-center":""}},[r("v-item-group",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"v-btn-group"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"secondary ",attrs:{flat:""},on:{click:function(e){return t.getTaxpayers(t.pages.first)}}},n),[r("v-icon",{attrs:{right:""}},[t._v("fast_rewind")])],1)]}}])},[t._v(" "),r("span",[t._v("Firstpage")])]),t._v(" "),r("v-btn",{staticClass:"secondary",attrs:{flat:"",disabled:null==t.pages.previousPage},on:{click:function(e){return t.getTaxpayers(t.pages.previousPage)}}},[r("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-left-bold")]),t._v(" Previous Page\n          ")],1),t._v(" "),r("v-btn",{staticClass:"secondary",attrs:{flat:"",disabled:null==t.pages.nextPage},on:{click:function(e){return t.getTaxpayers(t.pages.nextPage)}}},[t._v("Next Page "),r("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-right-bold")])],1),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"secondary ",attrs:{flat:""},on:{click:function(e){return t.getTaxpayers(t.pages.last)}}},n),[r("v-icon",{attrs:{right:""}},[t._v("fast_forward")])],1)]}}])},[t._v(" "),r("span",[t._v("Lastpage")])])],1),t._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{indeterminate:"",color:"blue"}})],1)],1)],1)],1)},[],!1,null,null,null),C=D.exports;d()(D,{VBtn:v.a,VDataTable:m.a,VFlex:h.a,VIcon:f.a,VItemGroup:x.b,VLayout:_.a,VProgressCircular:y.a,VSheet:w.a,VTextField:P.a,VTooltip:k.a});var T={layout:"user",components:{Individual:M,Corporate:C},data:function(){return{tabs:"individual"}},mounted:function(){this.$store.dispatch("auth/checkPermission",["VIEW_TAX_PAYER"])}},V=r(117),N=r(555),$=r(560),I=r(556),A=Object(l.a)(T,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"dashboard-wrapper",attrs:{"grid-list-lg":""}},[r("div",{staticClass:"headline mb-5 font-weight-medium"},[t._v("Tax Payers")]),t._v(" "),r("v-tabs",{attrs:{"show-arrows":"","fixed-tabs":"","active-class":"tab-background",color:"grey lighten-2","slider-color":"primary"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[r("v-tab",{attrs:{href:"#individual"}},[t._v("INDIVIDUAL")]),t._v(" "),r("v-tab",{attrs:{href:"#corporate"}},[t._v("CORPORATE")]),t._v(" "),r("v-tab-item",{attrs:{value:"individual"}},[r("Individual")],1),t._v(" "),r("v-tab-item",{attrs:{value:"corporate"}},[r("Corporate")],1)],1)],1)},[],!1,null,null,null);e.default=A.exports;d()(A,{VContainer:V.a,VTab:N.a,VTabItem:$.a,VTabs:I.a})}}]);