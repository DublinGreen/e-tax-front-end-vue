(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{531:function(e,t,l){var content=l(622);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(7).default)("ec597dce",content,!0,{sourceMap:!1})},621:function(e,t,l){"use strict";var n=l(531);l.n(n).a},622:function(e,t,l){(e.exports=l(6)(!1)).push([e.i,".error-box{color:#a30000;margin-top:-12px}.sec-head{background-color:rgba(38,144,235,.2)}",""])},654:function(e,t,l){"use strict";l.r(t);l(34),l(15);var n=l(364),o=l(365),r=l(344),d=l(345),c=l(331),v={layout:"user",components:{bill:o.a,alert:n.a},data:function(){return{taxPayableService:new r.a,generalService:new d.a,alert_data:{errors:null,success:null},contentFetched:!1,openModal:!1,revenue_category:"",bill:{anssid:"",agency_code:"",revenue_code:"",revenue_category:"",amount:"",payment_breakdown:{allowable_deductions:{life_insurance:0,nhf:0,nhis:0,pension:{basic:0,housing:0,transport:0,computed:0}},annual_amount_payable:0,amount_payable:0,tax_free_income:0,taxable_income:0,consolidated_relief_allowance:0},fiscal_period:"",fiscal_month:"",fiscal_year:"",fiscal_date:"",tax_office_uuid:"",staff_anssid:"",staff_name:"",bill_category:""},new_bill:{generated:!1,data:[]},headers:[{text:"Reference Code",value:"ref_code",sortable:!1},{text:"ANSSID",value:"anssid",sortable:!1},{text:"Payer Name",value:"name",sortable:!1},{text:"Amount Payable (â‚¦)",value:"amount_payable",sortable:!1},{text:"Revenue Name",value:"revenueName",sortable:!1},{text:"",value:"",sortable:!1}],mdas:[],revenues:[],bill_category:["PAYE","DTA","OTHERS"]}},mounted:function(){this.getMda()},computed:{computedstartDate:function(){return this.formatDate(this.date)},years:function(){return[2e3,2001,2002,2003,2004,2005,2006,2007,2008,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022]},months:function(){return[{id:1,name:"Jan"},{id:2,name:"Feb"},{id:3,name:"Mar"},{id:4,name:"Apr"},{id:5,name:"May"},{id:6,name:"Jun"},{id:7,name:"Jul"},{id:8,name:"Aug"},{id:9,name:"Sep"},{id:10,name:"Oct"},{id:11,name:"Nov"},{id:12,name:"Dec"}]}},methods:{resetPaymentBreakdown:function(){this.bill.payment_breakdown={allowable_deductions:{life_insurance:0,nhf:0,nhis:0,pension:{basic:0,housing:0,transport:0,computed:0}},annual_amount_payable:0,amount_payable:0,tax_free_income:0,taxable_income:0,consolidated_relief_allowance:0}},printBill:function(e){c.printElement(document.getElementById(e))},viewBill:function(e){this.contentFetched=!1,this.openModal=!0,this.contentFetched=!0},canShowAddStaffAnssid:function(){return"PAYE"==this.bill.bill_category},canModifyAmountPayable:function(){return"OTHERS"!=this.bill.bill_category},haveBothPayeAndDTA:function(){return"PAYE"==this.bill.bill_category||"DTA"==this.bill.bill_category},haveOnlyPaye:function(){return"PAYE"==this.bill.bill_category},canShowGrossPay:function(){return!!this.haveBothPayeAndDTA()},canShowConsolidatedReliefAllowance:function(){return!!this.haveBothPayeAndDTA()},canShowOtherAllowableDeductions:function(){return"PAYE"==this.bill.bill_category},canShowPensionAllowableDeduction:function(){return"PAYE"==this.bill.bill_category},canShowAmountRealization:function(){return!!this.haveBothPayeAndDTA()},canShowSelectBillCategory:function(){return!!this.revenue_category},runComputation:function(){var e=this.bill.payment_breakdown.gross_pay;(0===Number(e)||isNaN(Number(e)))&&(e=0,this.resetPaymentBreakdown());var t=this.generalService.getPension(this.bill.payment_breakdown.allowable_deductions.pension);this.bill.payment_breakdown.allowable_deductions.pension.computed=t;var l=this.bill.payment_breakdown.allowable_deductions.pension.basic,n=this.generalService.getConsolidatedReliefAllowance(e);this.bill.payment_breakdown.consolidated_relief_allowance=n;var o=0;this.bill.payment_breakdown.allowable_deductions.is_nhf&&(o=this.generalService.getNHF(l)),this.bill.payment_breakdown.allowable_deductions.nhf=o;var r=0;this.bill.payment_breakdown.allowable_deductions.is_life_insurance&&(r=this.generalService.getLifeInsurance(l)),this.bill.payment_breakdown.allowable_deductions.life_insurance=r;var d=0;this.bill.payment_breakdown.allowable_deductions.is_nhis&&(d=this.generalService.getNHIS(l)),this.bill.payment_breakdown.allowable_deductions.nhis=d;var c=n+(t+o+r+d);this.bill.payment_breakdown.tax_free_income=c;var v=Math.abs(e-c);this.bill.payment_breakdown.taxable_income=v;var _=this.taxPayableService.getAnnualtaxPayable(v);this.bill.payment_breakdown.annual_amount_payable=_,this.bill.payment_breakdown.amount_payable=this.taxPayableService.getMonthlyTaxPayable(_)},isTax:function(){return"TAX"==this.bill.revenue_category},displayFiscalYear:function(){return!!this.bill.fiscal_period},displayFiscalMonth:function(){return!(!this.bill.fiscal_period||"monthly"!=this.bill.fiscal_period)},filterAndSetup:function(){this.revenue_category="";var e=this.bill.revenue_code.split(":");this.revenue_category=e[0],console.log("revenue_category",this.revenue_category)},resetAlert:function(){this.alert_data={errors:null,success:null}},resetForm:function(){this.bill={anssid:"",agency_code:"",revenue_code:"",revenue_category:"",amount:"",payment_breakdown:{},fiscal_period:"",fiscal_month:"",fiscal_year:"",fiscal_date:"",tax_office_uuid:"",staff_anssid:"",staff_name:""}},setFiscalDate:function(){var e=this.bill.fiscal_year,t=this.bill.fiscal_month;console.log(t),""!==t&&t<10&&(t="0".concat(t)),t&&e?this.bill.fiscal_date="".concat(e,"-").concat(t,"-01"):e&&(this.bill.fiscal_date="".concat(e,"-01-01"))},generateBill:function(){var e=this;this.resetAlert(),this.$validator.validate().then(function(t){t&&(e.setFiscalDate(),e.bill.revenue_code=e.bill.revenue_code.split(":")[1],e.bill.amount=e.bill.payment_breakdown.amount_payable,e.$axios.post("bills/generate",e.bill).then(function(t){e.alert_data.success=t.data.message,e.new_bill.generated=!0,e.new_bill.data.push(t.data.bill),e.resetForm()}).catch(function(t){4e3==t.response.data.code?e.alert_data.errors=t.response.data.error:t.response.data.code}))})},getMda:function(){var e=this;this.$axios.get("MDAs/get-mdas").then(function(t){e.mdas=t.data.data}).catch(function(e){})},getRevenueSource:function(e){var t=this;this.$axios.get("MDAs/revenue-sources/".concat(e)).then(function(e){t.revenues=e.data.data,t.filterAndSetup()}).catch(function(e){})}}},_=(l(621),l(30)),m=l(47),f=l.n(m),w=l(130),y=l(131),h=l(319),x=l(558),k=l(117),C=l(635),A=l(320),S=l(316),N=l(123),P=l(133),$=l(124),D=l(120),M=l(631),B=l(132),F=l(666),component=Object(_.a)(v,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-container",{staticClass:"dashboard-wrapper",attrs:{"grid-list-lg":""}},[l("div",{staticClass:"headline mb-5 font-weight-medium"},[e._v("Generate Payment Bill")]),e._v(" "),l("v-sheet",{staticClass:"px-4 pt-4 pb-5 my-shadow-2",staticStyle:{opacity:"0.9"}},[l("alert",{attrs:{data:e.alert_data}}),e._v(" "),l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Assessment Period")]),e._v(" "),l("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"item-text":"name","item-value":"period",items:[{period:"monthly",name:"Monthly"},{period:"yearly",name:"Yearly"}],outline:"",name:"fiscal period"},model:{value:e.bill.fiscal_period,callback:function(t){e.$set(e.bill,"fiscal_period",t)},expression:"bill.fiscal_period"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Choose")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("fiscal period")))])],1),e._v(" "),e.displayFiscalMonth()?l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Assessment Month")]),e._v(" "),l("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"item-text":"name","item-value":"id",items:e.months,outline:"",name:"fiscal month"},model:{value:e.bill.fiscal_month,callback:function(t){e.$set(e.bill,"fiscal_month",t)},expression:"bill.fiscal_month"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Choose")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("fiscal month")))])],1):e._e(),e._v(" "),e.displayFiscalYear()?l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Assessment Year")]),e._v(" "),l("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.years,outline:"",name:"fiscal year"},model:{value:e.bill.fiscal_year,callback:function(t){e.$set(e.bill,"fiscal_year",t)},expression:"bill.fiscal_year"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Choose")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("fiscal year")))])],1):e._e()],1),e._v(" "),l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("ANSSID")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"anssid"},model:{value:e.bill.anssid,callback:function(t){e.$set(e.bill,"anssid",t)},expression:"bill.anssid"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("ANSSID")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("anssid")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm12:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("MDA")]),e._v(" "),l("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"item-text":"name","item-value":"code",items:e.mdas,outline:"",name:"mda"},on:{change:function(t){return e.getRevenueSource(e.bill.agency_code)}},model:{value:e.bill.agency_code,callback:function(t){e.$set(e.bill,"agency_code",t)},expression:"bill.agency_code"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Choose")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("mda")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Revenue Source")]),e._v(" "),l("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"item-text":"name","item-value":"category_and_code",items:e.revenues,required:"",outline:"",name:"revenue source"},on:{change:function(t){return e.filterAndSetup()}},model:{value:e.bill.revenue_code,callback:function(t){e.$set(e.bill,"revenue_code",t)},expression:"bill.revenue_code"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Choose")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("revenue source")))])],1)],1),e._v(" "),e.canShowSelectBillCategory()?l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{staticClass:"sec-head",attrs:{xs12:"",md12:""}},[l("h4",[e._v("Amount Computation")]),l("v-divider")],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Select Bills Tax Category")]),e._v(" "),l("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.bill_category,outline:"",name:"bill category"},on:{change:function(t){return e.resetPaymentBreakdown()}},model:{value:e.bill.bill_category,callback:function(t){e.$set(e.bill,"bill_category",t)},expression:"bill.bill_category"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Choose")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("bill category")))])],1),e._v(" "),e.canShowGrossPay()?l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Annual Gross Income")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{outline:"",name:"annual gross income"},on:{keyup:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.gross_pay,callback:function(t){e.$set(e.bill.payment_breakdown,"gross_pay",t)},expression:"bill.payment_breakdown.gross_pay"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Annual Gross Income")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("annual gross income")))])],1):e._e(),e._v(" "),e.canShowConsolidatedReliefAllowance()?l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Consolidated Relief Allowance")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"consolidated relief allowance",readonly:""},model:{value:e.bill.payment_breakdown.consolidated_relief_allowance,callback:function(t){e.$set(e.bill.payment_breakdown,"consolidated_relief_allowance",t)},expression:"bill.payment_breakdown.consolidated_relief_allowance"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("consolidated relief allowance")))])],1):e._e()],1):e._e(),e._v(" "),e.canShowPensionAllowableDeduction()?l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{staticClass:"sec-head",attrs:{xs12:"",md12:""}},[l("h4",[e._v("Allowable Deductions ( Pension )")]),l("v-divider")],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Basic")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"basic"},on:{keyup:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.allowable_deductions.pension.basic,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions.pension,"basic",t)},expression:"bill.payment_breakdown.allowable_deductions.pension.basic"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Basic")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("basics")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Housing")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"housing"},on:{keyup:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.allowable_deductions.pension.housing,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions.pension,"housing",t)},expression:"bill.payment_breakdown.allowable_deductions.pension.housing"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Housing")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("housing")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Transport")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"transport"},on:{keyup:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.allowable_deductions.pension.transport,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions.pension,"transport",t)},expression:"bill.payment_breakdown.allowable_deductions.pension.transport"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Transport")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("transport")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Pension Computed")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"pension",readonly:""},model:{value:e.bill.payment_breakdown.allowable_deductions.pension.computed,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions.pension,"computed",t)},expression:"bill.payment_breakdown.allowable_deductions.pension.computed"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("pension")))])],1)],1):e._e(),e._v(" "),e.canShowOtherAllowableDeductions()?l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{staticClass:"sec-head",attrs:{xs12:"",md12:""}},[l("h4",[e._v("Allowable Deductions (Others)")]),l("v-divider")],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("v-checkbox",{attrs:{label:"NHF"},on:{click:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.allowable_deductions.is_nhf,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions,"is_nhf",t)},expression:"bill.payment_breakdown.allowable_deductions.is_nhf"}}),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"nhf",readonly:""},model:{value:e.bill.payment_breakdown.allowable_deductions.nhf,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions,"nhf",t)},expression:"bill.payment_breakdown.allowable_deductions.nhf"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("nhf")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("v-checkbox",{attrs:{label:"Life Insurance"},on:{click:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.allowable_deductions.is_life_insurance,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions,"is_life_insurance",t)},expression:"bill.payment_breakdown.allowable_deductions.is_life_insurance"}}),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"life insurance",readonly:""},model:{value:e.bill.payment_breakdown.allowable_deductions.life_insurance,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions,"life_insurance",t)},expression:"bill.payment_breakdown.allowable_deductions.life_insurance"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("life insurance")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("v-checkbox",{attrs:{label:"NHIS"},on:{click:function(t){return e.runComputation()}},model:{value:e.bill.payment_breakdown.allowable_deductions.is_nhis,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions,"is_nhis",t)},expression:"bill.payment_breakdown.allowable_deductions.is_nhis"}}),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"nhis",readonly:""},model:{value:e.bill.payment_breakdown.allowable_deductions.nhis,callback:function(t){e.$set(e.bill.payment_breakdown.allowable_deductions,"nhis",t)},expression:"bill.payment_breakdown.allowable_deductions.nhis"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("nhis")))])],1)],1):e._e(),e._v(" "),e.canShowAmountRealization()?l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{staticClass:"sec-head",attrs:{xs12:"",md12:""}},[l("h4",[e._v("Amount Realization")]),l("v-divider")],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Tax Free Income")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"tax free income",readonly:""},model:{value:e.bill.payment_breakdown.tax_free_income,callback:function(t){e.$set(e.bill.payment_breakdown,"tax_free_income",t)},expression:"bill.payment_breakdown.tax_free_income"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("tax free income")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Taxable Income")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"taxable income",readonly:""},model:{value:e.bill.payment_breakdown.taxable_income,callback:function(t){e.$set(e.bill.payment_breakdown,"taxable_income",t)},expression:"bill.payment_breakdown.taxable_income"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("taxable income")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Annual Amount Payable")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"annual amount payable",readonly:""},model:{value:e.bill.payment_breakdown.annual_amount_payable,callback:function(t){e.$set(e.bill.payment_breakdown,"annual_amount_payable",t)},expression:"bill.payment_breakdown.annual_amount_payable"}}),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("annual amount payable")))])],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Amount Payable")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"amount-payable",readonly:e.canModifyAmountPayable()},model:{value:e.bill.payment_breakdown.amount_payable,callback:function(t){e.$set(e.bill.payment_breakdown,"amount_payable",t)},expression:"bill.payment_breakdown.amount_payable"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Amount Payable")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("amount-payable")))])],1)],1):e._e(),e._v(" "),e.canModifyAmountPayable()?e._e():l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{staticClass:"sec-head",attrs:{xs12:"",md12:""}},[l("h4",[e._v("Amount Realization")]),l("v-divider")],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Amount Payable")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"amount-payable",readonly:e.canModifyAmountPayable()},model:{value:e.bill.payment_breakdown.amount_payable,callback:function(t){e.$set(e.bill.payment_breakdown,"amount_payable",t)},expression:"bill.payment_breakdown.amount_payable"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Amount Payable")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("amount-payable")))])],1)],1),e._v(" "),e.canShowAddStaffAnssid()?l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{attrs:{xs12:"",md12:""}},[l("h4",[e._v("PAYE Staff ANSSID")]),e._v(" "),l("v-divider")],1),e._v(" "),l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("div",{staticClass:"caption font-weight-bold mb-1"},[e._v("Staff ANSSID")]),e._v(" "),l("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outline:"",name:"staff anssid"},model:{value:e.bill.staff_anssid,callback:function(t){e.$set(e.bill,"staff_anssid",t)},expression:"bill.staff_anssid"}},[l("div",{attrs:{slot:"label"},slot:"label"},[e._v("Staff ANSSID")])]),e._v(" "),l("div",{staticClass:"error-box"},[e._v(e._s(e.errors.first("staff anssid")))])],1)],1):e._e(),e._v(" "),l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[l("v-btn",{staticClass:"secondary caption mt-4",attrs:{small:"",flat:"",block:"",round:""},on:{click:function(t){return e.generateBill()}}},[e._v("Generate")])],1)],1),e._v(" "),e.new_bill.generated?l("section",{staticClass:"mt-5"},[l("v-data-table",{attrs:{"hide-actions":"",headers:e.headers,items:e.new_bill.data},scopedSlots:e._u([{key:"items",fn:function(t){return[l("td",[e._v(e._s(t.item.reference_code))]),e._v(" "),l("td",[e._v(e._s(t.item.anssid))]),e._v(" "),l("td",[e._v(e._s(t.item.anssid_name))]),e._v(" "),l("td",[e._v(e._s(e._f("formatNumber")(t.item.total_amount_payable)))]),e._v(" "),l("td",[e._v(e._s(t.item.revenue_name))]),e._v(" "),l("td",{staticClass:"text-xs-center"},[l("v-layout",[l("v-btn",{staticClass:"primary action-btn",attrs:{flat:"",small:""},on:{click:function(l){return e.viewBill(t.item)}}},[e._v("View")])],1)],1)]}}],null,!1,1054471424)}),e._v(" "),l("v-dialog",{attrs:{width:"800"},model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[l("v-card",[l("v-layout",{attrs:{"justify-center":"","mb-1":""}},[e.contentFetched?l("v-btn",{staticClass:"secondary caption",attrs:{flat:"",round:""},on:{click:function(t){return e.printBill("bill_area")}}},[l("v-icon",[e._v("print")]),e._v(" Print")],1):e._e()],1),e._v(" "),l("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!e.contentFetched,expression:"!contentFetched"}],staticClass:"text-md-center"},[l("v-progress-circular",{attrs:{indeterminate:"",color:"blue"}})],1),e._v(" "),e.contentFetched?l("v-card-text",[l("bill",{attrs:{id:"bill_area",result:e.new_bill.data[0]}})],1):e._e()],1)],1)],1):e._e()],1)],1)},[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:w.a,VCard:y.a,VCardText:h.b,VCheckbox:x.a,VContainer:k.a,VDataTable:C.a,VDialog:A.a,VDivider:S.a,VFlex:N.a,VIcon:P.a,VLayout:$.a,VProgressCircular:D.a,VSelect:M.a,VSheet:B.a,VTextField:F.a})}}]);