(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{326:function(e,t,r){var content=r(327);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("0ea34708",content,!0,{sourceMap:!1})},327:function(e,t,r){(e.exports=r(6)(!1)).push([e.i,".v-alert{border-radius:0;border-width:4px 0 0;border-style:solid;color:#fff;display:flex;font-size:14px;margin:4px auto;padding:16px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-alert .v-alert__icon.v-icon,.v-alert__dismissible .v-icon{align-self:center;color:rgba(0,0,0,.3);font-size:24px}.v-alert--outline .v-icon{color:inherit!important}.v-alert__icon{margin-right:16px}.v-alert__dismissible{align-self:flex-start;color:inherit;margin-left:16px;margin-right:0;text-decoration:none;transition:.3s cubic-bezier(.25,.8,.5,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-alert__dismissible:hover{opacity:.8}.v-alert--no-icon .v-alert__icon{display:none}.v-alert>div{align-self:center;flex:1 1}@media screen and (max-width:600px){.v-alert__icon{display:none}}.v-alert.v-alert{border-color:rgba(0,0,0,.12)!important}.v-alert.v-alert--outline{border:1px solid!important}",""])},329:function(e,t,r){var content=r(330);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("08d4b84c",content,!0,{sourceMap:!1})},330:function(e,t,r){(e.exports=r(6)(!1)).push([e.i,".v-form>.container{padding:16px}.v-form>.container>.layout>.flex{padding:8px}.v-form>.container>.layout:only-child{margin:-8px}.v-form>.container>.layout:not(:only-child){margin:auto -8px}",""])},336:function(e,t,r){"use strict";r(31),r(32),r(326);var n=r(48),o=r(12),l=r(24),c=r(0).a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),d=r(4);t.a=Object(d.a)(o.a,l.a,c).extend({name:"v-alert",props:{dismissible:Boolean,icon:String,outline:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}}},computed:{computedColor:function(){return this.type&&!this.color?this.type:this.color||"error"},computedIcon:function(){if(this.icon||!this.type)return this.icon;switch(this.type){case"info":return"$vuetify.icons.info";case"error":return"$vuetify.icons.error";case"success":return"$vuetify.icons.success";case"warning":return"$vuetify.icons.warning"}}},methods:{genIcon:function(){return this.computedIcon?this.$createElement(n.a,{class:"v-alert__icon"},this.computedIcon):null},genDismissible:function(){var e=this;return this.dismissible?this.$createElement("a",{class:"v-alert__dismissible",on:{click:function(){e.isActive=!1}}},[this.$createElement(n.a,{props:{right:!0}},"$vuetify.icons.cancel")]):null}},render:function(e){var t=[this.genIcon(),e("div",this.$slots.default),this.genDismissible()],r=e("div",(this.outline?this.setTextColor:this.setBackgroundColor)(this.computedColor,{staticClass:"v-alert",class:{"v-alert--outline":this.outline},directives:[{name:"show",value:this.isActive}],on:this.$listeners}),t);return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[r]):r}})},337:function(e,t,r){"use strict";r(3),r(97),r(16),r(184),r(31),r(32),r(329);var n=r(49);t.a={name:"v-form",mixins:[Object(n.b)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",function(t){e.$set(e.errorBag,input._uid,t)},{immediate:!0})},r={_uid:input._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",function(n){n&&(e.errorBag.hasOwnProperty(input._uid)||(r.valid=t(input)))}):r.valid=t(input),r},validate:function(){return!this.inputs.filter(function(input){return!input.validate(!0)}).length},reset:function(){for(var e=this,i=this.inputs.length;i--;)this.inputs[i].reset();this.lazyValidation&&setTimeout(function(){e.errorBag={}},0)},resetValidation:function(){for(var e=this,i=this.inputs.length;i--;)this.inputs[i].resetValidation();this.lazyValidation&&setTimeout(function(){e.errorBag={}},0)},register:function(input){var e=this.watchInput(input);this.inputs.push(input),this.watchers.push(e)},unregister:function(input){var e=this.inputs.find(function(i){return i._uid===input._uid});if(e){var t=this.watchers.find(function(i){return i._uid===e._uid});t.valid&&t.valid(),t.shouldValidate&&t.shouldValidate(),this.watchers=this.watchers.filter(function(i){return i._uid!==e._uid}),this.inputs=this.inputs.filter(function(i){return i._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}},534:function(e,t,r){var content=r(628);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("645f6e40",content,!0,{sourceMap:!1})},627:function(e,t,r){"use strict";var n=r(534);r.n(n).a},628:function(e,t,r){(e.exports=r(6)(!1)).push([e.i,"table.table[data-v-dea93248]{width:100%}table th[data-v-dea93248]{text-align:left}",""])},660:function(e,t,r){"use strict";r.r(t);var n={layout:"user",data:function(){return{loading:!1,submitting:!1,dialog:!1,valid:!1,fetching:!1,fetchingTaxoffices:!1,offices:[],taxoffices:[],processingzones:[],userTypes:[],errors:null,vselect:{mdaid:"",zipcode:"",taxofficeid:"",processingzoneid:""},permissions:[],formModel:{mda_id:"",first_name:"",last_name:"",email:"",address:"",userType:"",phone:"",permissions:[]},successMessage:{message:"",data:{}},mdaidRules:[function(e){return!!e||"MDA is required"}],TaxOfficeRules:[function(e){return!!e||"Tax Office is required"}],ProcessingZoneRules:[function(e){return!!e||"Processing Zone is required"}],firstnameRules:[function(e){return!!e||"Firstname is required"},function(e){return/^[a-zA-Z]{2,}(?: [a-zA-Z]+){0,2}$/.test(e)||"First name must be valid"}],lastnameRules:[function(e){return!!e||"Lastname is required"},function(e){return/^[a-zA-Z]{2,}(?: [a-zA-Z]+){0,2}$/.test(e)||"Last name must be valid"}],phoneRules:[function(e){return!!e||"Phone number is required"},function(e){return e.length>10||"Phone number cannot be less than 10"},function(e){return/^([0-9]{9,11})$/.test(e)||"Phone number must be valid"}],officeaddressRules:[function(e){return!!e||"Office address is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,8})+$/.test(e)||"E-mail must be valid"}],userTypeRules:[function(e){return!!e||"User Type is required"}]}},mounted:function(){this.getMDAID(),this.getProcessingZones(),this.pushUserTypes(),this.$store.dispatch("auth/checkPermission",["CREATE_MDA_USER","CREATE_ADMIN_USER","CREATE_TMS_USER","CREATE_STATE_GOVERNMENT_USER","CREATE_REVENUE_BOARD_USER","CREATE_TAX_OFFICER"])},methods:{pushUserTypes:function(){var e=this;setTimeout(function(){e.$store.dispatch("auth/canPerform",["CREATE_ADMIN_USER"])&&e.userTypes.push("ADMIN"),e.$store.dispatch("auth/canPerform",["CREATE_TAX_OFFICER"])&&e.userTypes.push("TAX OFFICER"),e.$store.dispatch("auth/canPerform",["CREATE_MDA_USER"])&&e.userTypes.push("MDA"),e.$store.dispatch("auth/canPerform",["CREATE_STATE_GOVERNMENT_USER"])&&e.userTypes.push("STATE GOVERNMENT OFFICIAL"),e.$store.dispatch("auth/canPerform",["CREATE_REVENUE_BOARD_USER"])&&e.userTypes.push("REVENUE BOARD USER")},2e3)},getMDAID:function(){var e=this;this.fetching=!0,this.$axios.$get("Common/mdas").then(function(t){e.offices=t.data,e.fetching=!1},function(t){e.fetching=!1})},getTaxOffices:function(a){var e=this;this.fetchingTaxoffices=!0;var t=this.vselect.processingzoneid.id;this.$axios.$get("/tax-offices/processing-zone/"+t).then(function(t){e.taxoffices=t.data,e.fetchingTaxoffices=!1},function(t){e.fetchingTaxoffices=!1})},getProcessingZones:function(){var e=this;this.fetching=!0,this.$axios.$get("/processing-zones").then(function(t){e.processingzones=t.data,e.fetching=!1},function(t){e.fetching=!1})},getPermissions:function(){var e=this;this.permissions,this.$axios.$get("/permissions").then(function(t){e.permissions=t.data})},createUser:function(){var e,t=this,r=this.formModel.userType;this.submitting=!0,"TAX OFFICER"==r?e="auth/user/create":"MDA"==r?e="auth/create-mda":"ADMIN"==r?e="auth/create-admin":"STATE GOVERNMENT OFFICIAL"==r?e="auth/create-state-govt-official":"REVENUE BOARD USER"==r&&(e="auth/create-revenue-board"),this.formModel.mda_id=this.vselect.mdaid.MDAID,this.formModel.processing_zone=this.vselect.processingzoneid.id,this.formModel.tax_office=this.vselect.taxofficeid.id,this.formModel.user_role=this.formModel.userType,this.$axios.$post(e,this.formModel).then(function(e){t.submitting=!1,t.successMessage=e,t.errors=null,t.dialog=!0},function(e){t.submitting=!1,t.errors=e.response.data.error})},resetForm:function(){this.$router.push({path:"/users"})}}},o=(r(627),r(30)),l=r(47),c=r.n(l),d=r(336),f=r(130),v=r(131),m=r(319),h=r(122),_=r(117),x=r(320),y=r(316),E=r(123),T=r(337),A=r(124),M=r(120),w=r(631),R=r(322),$=r(666),component=Object(o.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"dashboard-wrapper",attrs:{"grid-list-lg":""}},[r("div",{staticClass:"headline mb-5 font-weight-medium"},[e._v("\n    Create A New User\n    "),r("v-btn",{staticClass:"secondary pull-right",attrs:{to:"/users"}},[r("i",{staticClass:"fa fa-users"}),e._v("Â List Users")])],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md12:""}},[r("v-card",[r("v-card-text",[r("div",{staticClass:"secondary--text mb-4"},[e._v("All fields are required to register")]),e._v(" "),null!=e.errors?r("v-alert",{staticStyle:{"margin-bottom":"40px"},attrs:{value:!0,type:"error"}},[e._v("\n        Please fix the following errors"),r("br"),e._v(" "),"string"!=typeof e.errors?r("ul",e._l(e.errors,function(t,i){return r("li",{key:i},[e._v(e._s(t[0]))])}),0):r("span",[e._v(e._s(e.errors))])]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),e.createUser(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-layout",[r("v-flex",{attrs:{xs12:"",sm6:""}},[r("label",{staticClass:"caption"},[e._v("User Type")]),e._v(" "),r("v-select",{attrs:{outline:"",items:e.userTypes,label:"User Type *","persistent-hint":"","return-object":"","single-line":"",rules:e.userTypeRules,required:""},model:{value:e.formModel.userType,callback:function(t){e.$set(e.formModel,"userType",t)},expression:"formModel.userType"}})],1),e._v(" "),"MDA"==e.formModel.userType?r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("MDA")]),e._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.fetching,expression:"fetching"}],staticStyle:{position:"absolute",top:"left: 30px",margin:"10px 0 0 100px"},attrs:{width:1,size:11,color:"#757575",indeterminate:""}}),e._v(" "),r("v-select",{attrs:{outline:"",items:e.offices,"item-text":"Name","item-value":"MDAID",label:"Select MDA *","persistent-hint":"","return-object":"","single-line":"",rules:e.mdaidRules,required:""},model:{value:e.vselect.mdaid,callback:function(t){e.$set(e.vselect,"mdaid",t)},expression:"vselect.mdaid"}})],1):e._e(),e._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Firstname")]),e._v(" "),r("v-text-field",{attrs:{placeholder:"Enter your Firstname *",rules:e.firstnameRules,required:"",outline:""},model:{value:e.formModel.first_name,callback:function(t){e.$set(e.formModel,"first_name",t)},expression:"formModel.first_name"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Lastname")]),e._v(" "),r("v-text-field",{attrs:{placeholder:"Enter your Lastname *",rules:e.lastnameRules,required:"",outline:""},model:{value:e.formModel.last_name,callback:function(t){e.$set(e.formModel,"last_name",t)},expression:"formModel.last_name"}})],1)],1),e._v(" "),["MDA","SUPER_ADMIN","ADMIN","TAX OFFICER"].includes(e.formModel.userType)?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Processing Zone")]),e._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.fetching,expression:"fetching"}],staticStyle:{position:"absolute",top:"left: 30px",margin:"10px 0 0 100px"},attrs:{width:1,size:11,color:"#757575",indeterminate:""}}),e._v(" "),r("v-select",{attrs:{outline:"",items:e.processingzones,"item-text":"name","item-value":"id",label:"Select Processing Zone *","persistent-hint":"","return-object":"","single-line":"",rules:e.ProcessingZoneRules,required:""},on:{change:e.getTaxOffices},model:{value:e.vselect.processingzoneid,callback:function(t){e.$set(e.vselect,"processingzoneid",t)},expression:"vselect.processingzoneid"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Tax Office")]),e._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.fetchingTaxoffices,expression:"fetchingTaxoffices"}],staticStyle:{position:"absolute",top:"left: 30px",margin:"10px 0 0 100px"},attrs:{width:1,size:11,color:"#757575",indeterminate:""}}),e._v(" "),r("v-select",{attrs:{outline:"",items:e.taxoffices,"item-text":"name","item-value":"id",label:"Select Tax Office *","persistent-hint":"","return-object":"","single-line":"",rules:e.TaxOfficeRules,required:""},model:{value:e.vselect.taxofficeid,callback:function(t){e.$set(e.vselect,"taxofficeid",t)},expression:"vselect.taxofficeid"}})],1)],1):e._e(),e._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Email Address")]),e._v(" "),r("v-text-field",{attrs:{placeholder:"Email Address *",type:"email",rules:e.emailRules,required:"",outline:""},model:{value:e.formModel.email,callback:function(t){e.$set(e.formModel,"email",t)},expression:"formModel.email"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Phone Number")]),e._v(" "),r("v-text-field",{attrs:{placeholder:"Phone Number *",type:"tel",rules:e.phoneRules,required:"",outline:""},model:{value:e.formModel.phone,callback:function(t){e.$set(e.formModel,"phone",t)},expression:"formModel.phone"}})],1)],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"","pl-2":this.$vuetify.breakpoint.smAndUp}},[r("label",{staticClass:"caption"},[e._v("Address")]),e._v(" "),r("v-text-field",{attrs:{placeholder:"Address *",type:"text",rules:e.officeaddressRules,required:"",outline:""},model:{value:e.formModel.address,callback:function(t){e.$set(e.formModel,"address",t)},expression:"formModel.address"}})],1)],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"pl-2":this.$vuetify.breakpoint.smAndUp,"mx-auto":"",xs12:"",sm6:""}},[r("v-btn",{staticClass:"secondary caption",attrs:{loading:e.submitting,disabled:e.submitting||!e.valid,type:"submit",dark:"",flat:"",small:"",round:"",block:""}},[e._v("SUBMIT")])],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n        "+e._s(e.successMessage.message)+"\n      ")]),e._v(" "),r("v-card-text",[r("table",{staticClass:"table"},[r("tr",[r("th",[e._v("Login Email:")]),e._v(" "),r("td",[e._v(e._s(e.successMessage.data.email))])]),e._v(" "),r("tr",[r("th",[e._v("Password: ")]),e._v(" "),r("td",[e._v(e._s(e.successMessage.data.pwd))])])])]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.resetForm}},[e._v("\n          Ok\n        ")])],1)],1)],1)],1)},[],!1,null,"dea93248",null);t.default=component.exports;c()(component,{VAlert:d.a,VBtn:f.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VCardTitle:h.a,VContainer:_.a,VDialog:x.a,VDivider:y.a,VFlex:E.a,VForm:T.a,VLayout:A.a,VProgressCircular:M.a,VSelect:w.a,VSpacer:R.a,VTextField:$.a})}}]);